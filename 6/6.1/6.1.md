# 6.1. Estimación de cantidad de registros por tabla

# Módulos
Los abordarán supuestos de la empresa Gestión & Sistemas para la estimación de cantidad de registros por tabla:

1. Gestión de Prospectos  
2. Calificación de Oportunidades  
3. Validación de Requisitos  
4. Generación de Propuestas  
5. Negociación y Contratos  
6. Cierre de Ventas

# Detalle de los módulos

## *1. Gestión de Prospectos*


---

## *2. Calificación de Oportunidades*

Se estima que la tabla **Dolor** almacenará un total de 12,000 registros al finalizar el tercer año, basado en un crecimiento anual proyectado del 6% en el segundo año y 7% en el tercero.

### Proyección de Crecimiento:

| **Año** | **Base de Registros** | **Crecimiento Anual** | **Registros Esperados** |
|---------|-----------------------|-----------------------|-------------------------|
| Año 1   | 10,000                | -                     | 10,000                  |
| Año 2   | 10,000                | +6%                   | 10,600                  |
| Año 3   | 10,600                | +7%                   | 11,342                  |

---

### Diseño Físico para la Tabla "Dolor":

- **Sobrecarga por bloque**: En PostgreSQL, cada bloque tiene un tamaño de 8 KB (8,192 bytes), y añade una sobrecarga fija de 24 bytes destinada a la administración del propio bloque.
  
- **Sobrecarga por fila**: PostgreSQL añade por defecto una sobrecarga de 23 bytes por cada fila, utilizada para control de concurrencia y visibilidad de datos (MVCC).

- **Factor de llenado aplicado**: Se ha establecido un factor del 80% (equivalente a reservar un 20% de espacio libre en cada bloque) para optimizar las actualizaciones de registros, especialmente considerando que los campos `nombre_dolor` y `cod_sector` son de tipo texto largo (TEXT) y pueden ser modificados con frecuencia.

---

### Configuración objetivo:

Esta configuración tiene como objetivo evitar la migración de filas, reducir la fragmentación interna y mejorar la eficiencia en las operaciones de actualización.


---

## 3. Validación de Requisitos


---

## *4. Generación de Propuestas*

Se estima que la tabla **Modulo** almacenará un total de 17,000 registros al finalizar el tercer año, basado en un crecimiento anual proyectado del 6% en el segundo año y 7% en el tercero.

### Proyección de Crecimiento:

| **Año** | **Base de Registros** | **Crecimiento Anual** | **Registros Esperados** |
|---------|-----------------------|-----------------------|-------------------------|
| Año 1   | 15,000                | -                     | 15,000                  |
| Año 2   | 15,000                | +6%                   | 15,900                  |
| Año 3   | 15,900                | +7%                   | 17,013                  |

---

### Diseño Físico para la Tabla "Dolor":

- **Sobrecarga por bloque**: En PostgreSQL, cada bloque tiene un tamaño de 8 KB (8,192 bytes), y añade una sobrecarga fija de 24 bytes destinada a la administración del propio bloque.
  
- **Sobrecarga por fila**: PostgreSQL añade por defecto una sobrecarga de 23 bytes por cada fila, utilizada para control de concurrencia y visibilidad de datos (MVCC).

- **Factor de llenado aplicado**: Se ha establecido un factor del 80% (equivalente a reservar un 20% de espacio libre en cada bloque) para optimizar las actualizaciones de registros, especialmente considerando que el campo `funciones` son de tipo texto largo (TEXT) y pueden ser modificados con frecuencia.

---

### Configuración objetivo:

Esta configuración tiene como objetivo evitar la migración de filas, reducir la fragmentación interna y mejorar la eficiencia en las operaciones de actualización.


---

## *5. Negociación y Contratos*


---

## *6. Cierre de Ventas*

Se estima que la tabla **Contrato** almacenará un total de **3,467 registros** al finalizar el tercer año, basado en un crecimiento anual proyectado del **7%** en el segundo año y **8%** en el tercero.

La proyección de crecimiento es la siguiente:

| **Año** | **Base de Registros** | **Crecimiento Anual** | **Registros Esperados** |
|:-------:|:---------------------:|:---------------------:|:-----------------------:|
| Año 1   | 3,000                  | -                     | 3,000                   |
| Año 2   | 3,000                  | +7%                   | 3,210                   |
| Año 3   | 3,210                  | +8%                   | 3,467                   |

La empresa Gestión & Sistemas proyecta este aumento debido a la expansión de su cartera de clientes y servicios.

Para el diseño físico, se ha considerado:

- **Sobrecarga por bloque**: En PostgreSQL, cada bloque tiene un tamaño de **8 KB (8,192 bytes)**, y añade una **sobrecarga fija de 24 bytes** destinada a la administración del propio bloque.
- **Sobrecarga por fila**: PostgreSQL añade por defecto una **sobrecarga de 23 bytes por cada fila**, utilizada para control de concurrencia y visibilidad de datos (MVCC).
- **Fillfactor aplicado**: Se ha establecido un **factor del 80%** (equivalente a reservar un **20% de espacio libre** en cada bloque) para optimizar las actualizaciones de registros, especialmente considerando que los campos `contenido` y `condiciones_contrato` son de tipo texto largo (`TEXT`) y pueden ser modificados con frecuencia.

Esta configuración tiene como objetivo evitar la migración de filas, reducir la fragmentación interna y mejorar la eficiencia en las operaciones de actualización.

---


