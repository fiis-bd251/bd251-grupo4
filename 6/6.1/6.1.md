# 6.1. Estimación de cantidad de registros por tabla

# Módulos
Se abordará supuestos de la empresa Gestión & Sistemas para la estimación de cantidad de registros por tabla:

1. Gestión de Prospectos  
2. Calificación de Oportunidades  
3. Validación de Requisitos  
4. Generación de Propuestas  
5. Negociación y Contratos  
6. Cierre de Ventas

# Detalle de los módulos

## *1. Gestión de Prospectos*
Se estima que la tabla **Contacto** almacenará un total de **4,318 registros** al finalizar el tercer año, basado en un crecimiento anual proyectado del **10%** en el segundo año y **12%** en el tercero.

La proyección de crecimiento es la siguiente:

|**Año**|**Base de Registros**|**Crecimiento Anual**|**Registros Esperados**|
|---|---|---|---|
|Año 1|3,500|-|3,500|
|Año 2|3,500|+10%|3,850|
|Año 3|3,850|+12%|4,318|

La empresa Gestión & Sistemas proyecta este aumento debido a la expansión de su red de clientes y la necesidad de gestionar múltiples contactos por empresa.

---

### Diseño Físico y Consideraciones

- **Tamaño de bloque**: PostgreSQL utiliza **8 KB (8,192 bytes)** por defecto, con una **sobrecarga fija de 24 bytes** para metadatos del bloque.
- **Sobrecarga por fila**: Se reservan **23 bytes por registro** para control de transacciones (MVCC).
-  **Fillfactor**: **80%** (20% de espacio libre reservado), optimizado para actualizaciones frecuentes en campos como `email_contacto`, `telefono_contacto` y `cargo_contacto`.

---

## *2. Calificación de Oportunidades*

Se estima que la tabla **Dolor** almacenará un total de 12,000 registros al finalizar el tercer año, basado en un crecimiento anual proyectado del 6% en el segundo año y 7% en el tercero.

### Proyección de Crecimiento:

| **Año** | **Base de Registros** | **Crecimiento Anual** | **Registros Esperados** |
|---------|-----------------------|-----------------------|-------------------------|
| Año 1   | 10,000                | -                     | 10,000                  |
| Año 2   | 10,000                | +6%                   | 10,600                  |
| Año 3   | 10,600                | +7%                   | 11,342                  |

---

### Diseño Físico para la Tabla "Dolor":

- **Sobrecarga por bloque**: En PostgreSQL, cada bloque tiene un tamaño de 8 KB (8,192 bytes), y añade una sobrecarga fija de 24 bytes destinada a la administración del propio bloque.
  
- **Sobrecarga por fila**: PostgreSQL añade por defecto una sobrecarga de 23 bytes por cada fila, utilizada para control de concurrencia y visibilidad de datos (MVCC).

- **Factor de llenado aplicado**: Se ha establecido un factor del 80% (equivalente a reservar un 20% de espacio libre en cada bloque) para optimizar las actualizaciones de registros, especialmente considerando que los campos `nombre_dolor` y `cod_sector` son de tipo texto largo (TEXT) y pueden ser modificados con frecuencia.

---

### Configuración objetivo:

Esta configuración tiene como objetivo evitar la migración de filas, reducir la fragmentación interna y mejorar la eficiencia en las operaciones de actualización.


---

## 3. Validación de Requisitos

En el módulo Validación de Requisitos, la tabla `Requisitos` constituye la pieza clave para formalizar las demandas técnicas que nacen a partir de los "dolores" identificados en el cliente. Cada fila representa un requerimiento concreto que será evaluado, trazado, validado y sometido a revisión, generando alta rotación y modificaciones frecuentes.

### Proyección de Crecimiento 

El volumen de requisitos se estima en función directa al crecimiento de contratos y proyectos en Gestión & Sistemas. Por cada solicitud de servicio o cierre de preventa, se generan múltiples requisitos técnicos. La siguiente tabla resume la proyección:

| **Año** | **Requisitos Estimados** | **Crecimiento Aproximado**     |
|:-------:|:-------------------------:|:-------------------------------|
| 2023    | 6,000                     | Base estimada en proyectos activos |
| 2024    | 6,480                     | +8%                            |
| 2025    | 7,158                     | +10.5% acumulado               |

El crecimiento se justifica por el aumento en la complejidad de los proyectos y la implementación de soluciones más especializadas.

Se han considerado los siguientes aspectos técnicos para la estructura física de esta tabla:

- **Tamaño de bloque**: `8,192 bytes` (unidad estándar en PostgreSQL).
- **Sobrecarga por bloque**: `24 bytes`, correspondiente al encabezado de página.
- **Sobrecarga por fila**: `23 bytes`, aplicados por el sistema MVCC.
- **Fillfactor**: `80%`. Esta configuración reserva espacio libre por bloque para permitir actualizaciones eficientes, especialmente en los campos `historial_cambios`, `descripcion_r` y `estado_r`, que pueden cambiar conforme evolucione el requerimiento.

---

## *4. Generación de Propuestas*

Se estima que la tabla **Modulo** almacenará un total de 17,000 registros al finalizar el tercer año, basado en un crecimiento anual proyectado del 6% en el segundo año y 7% en el tercero.

### Proyección de Crecimiento:

| **Año** | **Base de Registros** | **Crecimiento Anual** | **Registros Esperados** |
|---------|-----------------------|-----------------------|-------------------------|
| Año 1   | 15,000                | -                     | 15,000                  |
| Año 2   | 15,000                | +6%                   | 15,900                  |
| Año 3   | 15,900                | +7%                   | 17,013                  |

---

### Diseño Físico para la Tabla "Modulo":

- **Sobrecarga por bloque**: En PostgreSQL, cada bloque tiene un tamaño de 8 KB (8,192 bytes), y añade una sobrecarga fija de 24 bytes destinada a la administración del propio bloque.
  
- **Sobrecarga por fila**: PostgreSQL añade por defecto una sobrecarga de 23 bytes por cada fila, utilizada para control de concurrencia y visibilidad de datos (MVCC).

- **Factor de llenado aplicado**: Se ha establecido un factor del 80% (equivalente a reservar un 20% de espacio libre en cada bloque) para optimizar las actualizaciones de registros, especialmente considerando que el campo `funciones` son de tipo texto largo (TEXT) y pueden ser modificados con frecuencia.

---

### Configuración objetivo:

Esta configuración tiene como objetivo evitar la migración de filas, reducir la fragmentación interna y mejorar la eficiencia en las operaciones de actualización.


---

## *5. Negociación y Contratos*

Se estima que la tabla **Reunion** se obtendrá siguiendo el siguiente razonamiento: En el primer año, en promedio, se llevan a cabo 2 reuniones diarias durante 260 días laborables (excluyendo fines de semana y feriados). Al finalizar el tercer año, se almacenará un total de **580 registros**, basado en un crecimiento anual proyectado del **5%** en el segundo año y **6%** en el tercero.

### Proyección de Crecimiento:

| **Año** | **Base de Registros** | **Crecimiento Anual** | **Registros Esperados** |
|---------|-----------------------|-----------------------|-------------------------|
| Año 1   | 520                | -                     | 520                  |
| Año 2   | 520                | +5%                   | 546                  |
| Año 3   | 546                | +6%                   | 578.76                 |

---

### Diseño Físico para la Tabla "Reunion":

- **Sobrecarga por bloque**: En PostgreSQL, cada bloque tiene un tamaño de 8 KB (8,192 bytes), y añade una sobrecarga fija de 24 bytes destinada a la administración del propio bloque.
  
- **Sobrecarga por fila**: PostgreSQL añade por defecto una sobrecarga de 23 bytes por cada fila, utilizada para control de concurrencia y visibilidad de datos (MVCC).

- **Factor de llenado aplicado**: Se ha establecido un factor del 80% (equivalente a reservar un 20% de espacio libre en cada bloque) para optimizar las actualizaciones de registros, especialmente considerando que el campo `descripcion_re` es de tipo texto largo (`TEXT`) y pueden ser modificados con frecuencia.

---

### Configuración objetivo:

Esta configuración tiene como objetivo evitar la migración de filas, reducir la fragmentación interna y mejorar la eficiencia en las operaciones de actualización.

---

## *6. Cierre de Ventas*

Se estima que la tabla **Contrato** almacenará un total de **3,467 registros** al finalizar el tercer año, basado en un crecimiento anual proyectado del **7%** en el segundo año y **8%** en el tercero.

La proyección de crecimiento es la siguiente:

| **Año** | **Base de Registros** | **Crecimiento Anual** | **Registros Esperados** |
|:-------:|:---------------------:|:---------------------:|:-----------------------:|
| Año 1   | 3,000                  | -                     | 3,000                   |
| Año 2   | 3,000                  | +7%                   | 3,210                   |
| Año 3   | 3,210                  | +8%                   | 3,467                   |

La empresa Gestión & Sistemas proyecta este aumento debido a la expansión de su cartera de clientes y servicios.

Para el diseño físico, se ha considerado:

- **Sobrecarga por bloque**: En PostgreSQL, cada bloque tiene un tamaño de **8 KB (8,192 bytes)**, y añade una **sobrecarga fija de 24 bytes** destinada a la administración del propio bloque.
- **Sobrecarga por fila**: PostgreSQL añade por defecto una **sobrecarga de 23 bytes por cada fila**, utilizada para control de concurrencia y visibilidad de datos (MVCC).
- **Fillfactor aplicado**: Se ha establecido un **factor del 80%** (equivalente a reservar un **20% de espacio libre** en cada bloque) para optimizar las actualizaciones de registros, especialmente considerando que los campos `contenido` y `condiciones_contrato` son de tipo texto largo (`TEXT`) y pueden ser modificados con frecuencia.

Esta configuración tiene como objetivo evitar la migración de filas, reducir la fragmentación interna y mejorar la eficiencia en las operaciones de actualización.

---


